# {{ ansible_managed }}

alias ansible-galaxy="source ~/venv/ansible/bin/activate && ansible-galaxy"
alias ansible-playbook-vault="source ~/venv/ansible/bin/activate && ansible-playbook --vault-password-file ~/.ansible-vault-password"
alias ansible-playbook="source ~/venv/ansible/bin/activate && ansible-playbook"
alias ansible-vault="source ~/venv/ansible/bin/activate && ansible-vault --vault-password-file ~/.ansible-vault-password"

alias apg="apg -n 3 -m 15 -x 15 -M CLN"
alias cruft="source ~/venv/cruft/bin/activate && cruft"
alias ssh='TERM=xterm-256color ssh'

alias ls='exa'
alias exa='exa --tree --level=2 --icons'
alias cz="{{ home }}/venv/commitizen/bin/cz"

# no generic
alias ansible-1m="cd ~/works/repos/numberly/team-infrastructure/ansible"
alias dmp="cd ~/works/repos/numberly/team-dmp/"
alias nmp="cd ~/works/repos/numberly/team-nmp/backend"
alias data-ops="cd ~/works/repos/numberly/team-data-ops"
alias github="cd ~/perso/repos/github/lujeni"

# terraform
alias terrascan="source ~/venv/terraform/bin/activate && terrascan"
alias terrascan="source ~/venv/terraform/bin/activate && terrascan"
alias terraform-1m="cd ~/works/repos/numberly/team-infrastructure/terraform-numberly"
alias terraform-diva="cd ~/works/repos/numberly/team-infrastructure/terraform-diva"

# aws-google-saml
alias aws-numberly-production='docker exec chrome gsts --aws-role-arn arn:aws:iam::569381709489:role/AdminWithSAML --sp-id 97839510104 --idp-id C04he5wkr --username julien.thebault@numberly.com --aws-session-duration 43200 --aws-profile default'

# k8s-eks
alias aws-diva-staging='docker exec chrome gsts --aws-role-arn arn:aws:iam::315989535748:role/AdminWithSAML --sp-id 97839510104 --idp-id C04he5wkr --username julien.thebault@numberly.com --aws-session-duration 43200 --aws-profile diva-staging'
alias aws-diva-production='docker exec chrome gsts --aws-role-arn arn:aws:iam::307361919139:role/AdminWithSAML --sp-id 97839510104 --idp-id C04he5wkr --username julien.thebault@numberly.com --aws-session-duration 43200 --aws-profile diva-production'

# k8s-azure
alias az-uea-production="az aks get-credentials --name nbly-production-kubernetes1 --resource-group rg-dubai --overwrite-existing"

# kubernetes
alias stern-par5="stern --context kubernetes1-pr-par5"
alias stern-old="stern --context k8s-pr-1"
alias stern-pa7="stern --context kubernetes1-pr-pa7"
alias kubectl-par5="kubectl --context kubernetes1-pr-par5"
alias kubectl-old="kubectl --context k8s-pr-1"
alias kubectl-pa7="kubectl --context kubernetes1-pr-pa7"

stern-full(){
    (stern-par5 ${1} --tail=10 |egrep -iv "healthz|metrics" & stern-old ${1} --tail=10 |egrep -iv "healthz|metrics" & stern-pa7 {$1} --tail=10 |egrep -iv "healthz|metrics")
}

# kerberos
alias kerberos-jthe="kinit jthe -kt /home/lujeni/works/certificates/keytabs/jthe.keytab"

# vault
alias vault='dvault login -address=https://vault1.numberly.in:8200'
alias vault-login='vault login -address=https://vault1.numberly.in:8200 -method=ldap username=jthe -format=json'

# vpn
alias vpn="sudo openvpn /etc/openvpn/jthe.ovpn"
